/* ===== Relearn 下的首页卡片排版修复 ===== */

/* 主体容器命中，避免被主题样式盖住 */
#R-body-inner .grid.cards{
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 16px;
  margin: 1rem 0 2rem;
  list-style: none;
  padding: 0;
}

/* 把“药丸链接”恢复成真正的卡片块 */
#R-body-inner .grid.cards .card{
  display: block;
  box-sizing: border-box;
  padding: 14px 16px;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: #fafafa;
  text-decoration: none !important;   /* 覆盖主题的链接样式 */
  color: inherit !important;          /* 继承正文颜色 */
  line-height: 1.6;
  transition: all .25s ease-in-out;
}

/* 悬停更有“呼吸” */
#R-body-inner .grid.cards .card:hover{
  transform: translateY(-3px);
  box-shadow: 0 8px 18px rgba(0,0,0,.08);
  background: #fff;
}

/* 标题视觉层级 */
#R-body-inner .grid.cards .card strong{
  display: block;
  font-size: 1.05rem;
  margin-bottom: 4px;
}

/* 让主题别给卡片里的 a 再上装饰 */
#R-body-inner .grid.cards .card a{
  text-decoration: none !important;
  color: inherit !important;
}

/* 正文与引言的微调（可保留） */
#R-body-inner h1{
  font-weight: 600;
  letter-spacing: 1px;
  color: #222;
}
#R-body-inner p{
  font-size: 1.05rem;
  line-height: 1.9;
  margin-bottom: 1em;
}
/* 引言块样式（色调加深，更有厚度） */
#R-body-inner blockquote {
  border-left: 4px solid #555;       /* 左侧竖线更深灰 */
  padding: 1.2em 1.4em;
  color: #444;                       /* 字色更深，近正文色 */
  font-style: italic;
  background: #dcdcdc;               /* 背景更稳重的灰 */
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);  /* 增加深度阴影 */
  border-radius: 6px;
  line-height: 1.9;
  transition: all 0.3s ease;
}

/* 悬停微微提亮——如光自内散开 */
#R-body-inner blockquote:hover {
  background: #e0e0e0;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.12);
}



/* 窄屏下自动一列 */
@media (max-width: 720px){
  #R-body-inner .grid.cards{ grid-template-columns: 1fr; }
}

/* ========== 调整“编”级页面标题字号 ========== */

/* 只影响路径中包含 /part 的页面（即各编） */
body[data-url*="/part"] h1 {
  font-size: 2rem;   /* 默认约 2.2rem，可按需改成 1.5rem、1.4rem 等 */
  font-weight: 600;
  line-height: 1.3;
  margin-bottom: 1rem;}

  /* ========== Pure Suchness Codex 文本排版样式 ========== */
.section-title {
  font-size: 1.4rem;
  font-weight: 700;
  color: #222;
  border-left: 4px solid #444;
  padding-left: 10px;
  margin-top: 2.5em;
  margin-bottom: 1em;
  letter-spacing: 0.5px;
}

.article {
  margin-left: 1em;
  margin-bottom: 2em;
}

.clause, .theorem, .definition, .proof, .note, .corollary {
  font-weight: 600;
  color: #333;
  margin-top: 1em;
  margin-bottom: 0.5em;
}

.text {
  line-height: 1.9;
  margin-bottom: 0.8em;
  font-size: 1.02rem;
}

.comment {
  font-style: italic;
  color: #444;
  background-color: #fafafa;
  border-left: 3px solid #ccc;
  padding: 0.5em 1em;
  border-radius: 4px;
  margin-bottom: 1em;
}

.proof-list {
  margin-left: 2em;
  line-height: 1.8;
}

.end {
  font-weight: 700;
  margin-left: 0.3em;
}

hr {
  border: 0;
  height: 1px;
  background: #ddd;
  margin: 2em 0;
}

/* ====== Codex：条文 / 公设 / 命题 / 定理 的版式系统 ====== */

/* 小节标题（§2.x） */
.section-title{
  font-size: 1.25rem;
  font-weight: 700;
  color: #2f2f2f;
  border-left: 4px solid #7a7a7a;
  padding-left: 10px;
  margin-top: 2.2em;
  margin-bottom: 0.9em;
  letter-spacing: .3px;
}

/* 章节容器 */
.article{ margin-left: .2rem; margin-bottom: 1.4em; }

/* 基本文段 */
.text{ line-height: 1.9; margin: .5em 0 .9em; font-size: 1.02rem; }

/* 注解/附释 */
.comment{
  font-style: italic;
  color:#444; background:#fafafa;
  border-left: 3px solid #bcbcbc;
  padding:.6em 1em; border-radius:5px; margin:.6em 0 1.2em;
}
.comment.fine{ font-size:.98rem; color:#555; }

/* 徽标：D/P/命题/定理 */
.badge{
  display:inline-block; min-width:2.2em; padding:.06em .45em;
  border-radius:.4em; font-weight:700; font-size:.9rem;
  line-height:1.2; text-align:center; margin-right:.5em;
  border:1px solid rgba(0,0,0,.08);
  background: linear-gradient(#fff,#f4f4f4);
}
.badge.D{ color:#324f7a; border-color:#cfd9ea; background:linear-gradient(#f7faff,#ecf2ff); }
.badge.P{ color:#6a3b00; border-color:#ead9cf; background:linear-gradient(#fff8f1,#ffefe0); }

/* 列表：定义/公设/证明 */
.axiomlist{ list-style:none; padding-left:0; margin:.2em 0 1.2em; }
.axiomlist li{ margin:.35em 0; line-height:1.85; }
.deflist li b{ color:#222; }

/* 命题/定义/证明/推论标题 */
.theorem, .definition, .proof, .note, .corollary{
  font-weight:700; color:#2b4f81; margin:.6em 0 .2em;
}
.theorem.major{ font-size:1.08rem; color:#223a60; border-left:3px solid #223a60; padding-left:.5em; }
.proof{ color:#6b2a00; } /* 证明标题微褐，和公设系呼应 */
.proof-list{ margin-left:1.6em; line-height:1.85; }
.end{ font-weight:800; margin-left:.25em; }

/* 引句式定理陈述（终行） */
.epigraph{
  font-style: italic; text-align:center; color:#333;
  background: #f7f7f7; border:1px dashed #d5d5d5;
  padding:1em; border-radius:8px; margin-top:.8em;
}

/* 分隔线 */
hr{ border:0; height:1px; background:#e5e5e5; margin:1.6em 0; }

/* ==== 卷首 · 序言卡（统一风格） ==== */
.preface{
  position: relative;
  margin: 1.2rem 0 2rem;
  padding: 1.1rem 1.2rem 1.2rem;
  background: #faf9f7;
  border: 1px solid #eadfd2;
  border-radius: 14px;
  box-shadow: 0 8px 20px rgba(0,0,0,.04);
}
.preface-badge{
  display: inline-block;
  font-weight: 700;
  font-size: .9rem;
  color: #7a521a;
  background: linear-gradient(#fff6e5,#ffedd0);
  border: 1px solid #e9d2a8;
  padding: .18rem .6rem;
  border-radius: 999px;
  margin-bottom: .35rem;
}
.preface-title{
  font-size: 1.15rem;
  font-weight: 700;
  color: #2f2f2f;
  letter-spacing: .3px;
  margin: .2rem 0 .6rem;
}
.preface-body{
  line-height: 1.9;
  color: #3a3a3a;
  font-size: 1.03rem;
}

/* 序言卡与页面标题的距离（只在卷首页更优雅） */
body[data-url$="/volumes/"] .preface,
body[data-url*="/volumes/volume1/index.html"] .preface,
body[data-url*="/volumes/volume2/index.html"] .preface,
body[data-url*="/volumes/volume3/index.html"] .preface{
  margin-top: .8rem;
}

/* 与你现有“碑文体”保持一致的细节 */
.epigraph b { color:#222; }


/* 关掉主题可能用到的几种进度条实现 */
#nprogress,
#nprogress .bar,
.pace,
.pace-active,
#topbar,
#topbar .topbar-progress {
  display: none !important;
}

/* ===== 作者自述块 / Author Bio ===== */
.author-bio {
  /* 布局与排版 */
  max-width: 760px;
  margin: 2.5rem auto;
  padding: 1.75rem 1.5rem;
  line-height: 1.9;
  font-family: "Noto Serif SC", "Source Han Serif SC", STSong, serif;
  font-size: 1.02rem;

  /* 颜色：用主题变量，找不到就给安全兜底 */
  color: var(--MAIN-TEXT, #222);
  background: var(--MAIN-BG, #ffffff);
  border-left: 4px solid var(--BORDER, #d0d0d0);
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}

/* 深色模式微调 */
@media (prefers-color-scheme: dark) {
  .author-bio {
    color: var(--MAIN-TEXT, #eaeaea);
    background: color-mix(in srgb, #121212 90%, #ffffff 10%);
    border-left-color: var(--BORDER, #4a4a4a);
    box-shadow: 0 8px 24px rgba(0,0,0,.35);
  }
}

/* 段落间距与正文可读性 */
.author-bio p { 
  margin: 0 0 1rem; 
}
.author-bio p:last-child { 
  margin-bottom: 0; 
}

/* 小标题（如果需要，可在文内加 <h2>） */
.author-bio h2 {
  margin: 0 0 .75rem;
  font-size: 1.15rem;
  letter-spacing: .08em;
  text-align: center;
  font-weight: 600;
  color: inherit;
}

/* 强调与链接 */
.author-bio strong { 
  font-weight: 650; 
}
.author-bio a {
  color: var(--LINK, #2b6cb0);
  text-decoration: underline;
  text-underline-offset: 2px;
}
@media (prefers-color-scheme: dark) {
  .author-bio a { color: var(--LINK, #8ab4ff); }
}

/* 引文块：浅而不抢戏 */
.author-bio blockquote {
  margin: 1.25rem 0;
  padding: .75rem 1rem .75rem 1rem;
  border-left: 4px solid var(--BORDER, #c8c8c8);
  background: color-mix(in srgb, currentColor 6%, transparent);
  border-radius: 10px;
  font-style: italic;
}
@media (prefers-color-scheme: dark) {
  .author-bio blockquote {
    background: color-mix(in srgb, currentColor 10%, transparent);
  }
}

/* 更紧致的中文标点与破折号显示 */
.author-bio { text-rendering: optimizeLegibility; }
.author-bio p { hanging-punctuation: first allow-end; }

/* 窄屏优化 */
@media (max-width: 720px) {
  .author-bio {
    margin: 1.5rem 1rem;
    padding: 1.25rem 1rem;
    font-size: 1rem;
    border-radius: 10px;
  }
}

/* --- 让正文更贴近标题 --- */
body[data-url*="/about/"] main.content,
body[data-url*="/about/"] .content,
body[data-url*="/about/"] .default,
body[data-url*="/about/"] article,
body[data-url*="/about/"] section.author-bio {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* 一般页面的全局微调 */
main.content, .content {
  padding-top: 1rem !important;  /* 原主题常是4rem以上 */
}

/* 如果主题有 .R-body 容器，也收紧 */
.R-body {
  padding-top: 1rem !important;
  margin-top: 0 !important;
}

/* 容器与正文节奏 */
.note-essay {
  max-width: 860px;
  margin: 0 auto;
  padding: 0.5rem 0 1.5rem;
  text-align: justify;
  text-justify: inter-ideograph;
}

.note-essay p {
  font-size: 1.02rem;
  line-height: 1.9;
  margin: 0.75rem 0;
}

/* 轻量主标题行：保留原文不删字，但降低存在感，避免与页面大标题冲突 */
.note-essay .title-inline {
  margin: 0.25rem 0 0.25rem;
  opacity: 0.7;
  font-size: 0.98rem;
  letter-spacing: 0.02em;
}

/* 副标题 h3 */
.markdown-section h3 {
  font-size: 1.55rem;
  font-weight: 600;
  margin-top: 2.2rem;
  margin-bottom: 1.2rem;
  color: #222;
}

/* 小节标题 h4/h5 */
.markdown-section h4,
.markdown-section h5 {
  font-size: 1.18rem;
  font-weight: 700;
  margin-top: 1.8rem;
  margin-bottom: 0.8rem;
  color: #333;
}

/* 正文段落柔光 */
.markdown-section p {
  line-height: 1.76;
  font-size: 1.02rem;
}

/* 引句 */
blockquote {
  border-left: 3px solid #888;
  padding-left: 12px;
  font-style: italic;
  color: #444;
}

/* 诗性细节 */
.markdown-section strong {
  font-weight: 600;
  color: #000;
}

/* 暗色模式微调 */
@media (prefers-color-scheme: dark) {
  .note-essay blockquote {
    background: rgba(255,255,255,.05);
    border-left-color: rgba(255,255,255,.35);
  }
}

/* 移动端排版优化 */
@media (max-width: 640px) {
  .note-essay { padding: 0.25rem 0 1rem; }
  .note-essay p { font-size: 1.0rem; line-height: 1.85; }
  .note-essay .subtitle { font-size: 1.18rem; }
  .note-essay h5 { font-size: 1.06rem; }
}

/* 仅作用在 .pure-poem 容器内，不改全局颜色或背景 */
.pure-poem {
  font-family: "Noto Serif SC", serif;
  font-size: 1.08rem;
  line-height: 2;
  max-width: 750px;
  margin: 2rem auto;
  padding: 1.6rem 1.2rem;
  /* 继承当前主题颜色，不强制设色 */
  color: inherit;
  background: transparent;
  border-left: 4px solid rgba(127,127,127,.25);
  border-radius: 10px;
  box-shadow: none;
}

/* 深色主题下的轻微底色与边框（多种选择器兼容不同主题实现） */
html[data-theme="dark"] .pure-poem,
:root[data-theme="dark"] .pure-poem,
.dark .pure-poem {
  background: rgba(255,255,255,.03);
  border-left-color: rgba(255,255,255,.18);
}

/* 浅色主题下的轻微底色与边框 */
html[data-theme="light"] .pure-poem,
:root[data-theme="light"] .pure-poem,
.light .pure-poem {
  background: rgba(0,0,0,.03);
  border-left-color: rgba(0,0,0,.15);
}

/* 强调与行距，仍然继承主题文字颜色 */
.pure-poem strong {
  font-weight: 600;
}

.pure-poem em {
  opacity: .9;
  font-style: italic;
}

/* 让手动换行更舒适些 */
.pure-poem br { line-height: 1.2; }

@media (max-width: 720px) {
  .pure-poem { font-size: 1rem; padding: 1.2rem .9rem; }
}

.pure-poem {
  max-width: 860px;
  margin: 2.25rem auto 3.25rem;
  line-height: 1.95;
  font-size: 1.03rem;
}

.pure-poem .poem-chapter {
  font-size: 1.45rem;
  font-weight: 800;
  letter-spacing: 0.02em;
  margin: 0 0 1.2rem;
}

.pure-poem .poem-sec { margin: 2.2rem 0 2.8rem; }
.pure-poem .poem-sec:first-child { margin-top: 1.2rem; }

.pure-poem h3 {
  font-size: 1.25rem;
  font-weight: 700;
  letter-spacing: 0.02em;
  margin: 0 0 0.3rem;
}

.pure-poem .poem-sub {
  opacity: .85;
  font-weight: 500;
  margin: -0.1rem 0 0.9rem;
}

.pure-poem p { margin: 0.55rem 0; }

/* 深色模式的轻微提亮（不改变主题配色，只调文本对比度） */
@media (prefers-color-scheme: dark) {
  .pure-poem .poem-sub { opacity: .92; }
}

/* 窄屏优化 */
@media (max-width: 640px) {
  .pure-poem { padding: 0 0.5rem; font-size: 1.02rem; }
  .pure-poem h3 { font-size: 1.18rem; }
}

strong, b {
  font-weight: 800 !important;
  color: var(--link-color);
}

/* ===== 纯质论·气质主题：冷白/月灰/静青 ===== */
:root {
  --MAIN-BG: #f8f9fb;          /* 页面底色，微暖冷白 */
  --MAIN-TEXT: #0f172a;        /* 主文本深靛 */
  --ACCENT: #2b6777;           /* 静青：链接与高亮 */
  --SOFT: #94a3b8;            /* 次要信息 */
  --CARD: #ffffff;            /* 卡片背景 */
  --BORDER: #e5e7eb;          /* 边界 */
}

/* 侧栏（Relearn） */
#sidebar {
  background: linear-gradient(180deg, #0b1220 0%, #101828 100%); /* 深夜蓝黑 */
  color: #e5e7eb;
}
#sidebar a, #sidebar .menu a {
  color: #c7d2fe;
}
#sidebar .menu .active > a { 
  color: #ffffff; 
  font-weight: 600;
}

/* 页面背景与卡片 */
body { background: var(--MAIN-BG); color: var(--MAIN-TEXT); }
.article, .content, .container {
  color: var(--MAIN-TEXT);
}
.card, .box, .admonition, .note, .comment {
  background: var(--CARD);
  border: 1px solid var(--BORDER);
  box-shadow: 0 8px 24px rgba(2, 6, 23, .05);
  border-radius: 12px;
}

/* 标题字距与呼吸 */
h1, h2, .section-title {
  letter-spacing: .02em;
  line-height: 1.25;
  margin: 1.2em 0 .6em;
}
.section-title { font-size: 1.6rem; font-weight: 700; }

/* 命题/定义/证明块 */
.theorem, .definition, .proof, .corollary, .clause, .note {
  font-weight: 700;
  color: var(--ACCENT);
  margin-top: 1.2rem;
}
.proof-list li { margin: .35rem 0; }

/* 链接与悬停 */
a { color: var(--ACCENT); text-decoration: none; }
a:hover { text-decoration: underline; }


/* ===== 神殿体 · 殿门三石刻 ===== */
.hero-verse {
  max-width: 860px;
 margin: 2vh auto 3vh;  /* 顶部更紧、底部稍保留气息 */
  padding: 2.5rem 2rem;
  text-align: center;
  position: relative;
  /* 微光晕，让文字像在石面上自显 */
  background: radial-gradient(1200px 500px at 50% -20%, rgba(255,255,255,.85), rgba(255,255,255,0));
  border-radius: 18px;
}

/* 行间的“呼吸”，让三句各自成碑 */
.hero-verse .line + .line {
  margin-top: 2.2rem; /* 行间距离更稳更庄 */
}

/* 轻微的下沿分界，像石阶 */
.hero-verse::after {
  content: "";
  display: block;
  width: 72%;
  height: 1px;
  margin: 2.2rem auto 0;
  background: linear-gradient(90deg, rgba(2,6,23,0), rgba(2,6,23,.15), rgba(2,6,23,0));
}

/* 暗色模式的适配（若主题开启暗色） */
@media (prefers-color-scheme: dark) {
  .hero-verse {
    background: radial-gradient(1200px 520px at 50% -20%, rgba(255,255,255,.06), rgba(255,255,255,0));
  }
  .hero-verse .line {
    color: #e5e7eb;
    text-shadow: none;
  }
  .hero-verse::after {
    background: linear-gradient(90deg, rgba(229,231,235,0), rgba(229,231,235,.18), rgba(229,231,235,0));
  }
}

.hero-sub{
  text-align:center;
  margin: 1.2rem auto 0;
  color:#475569;             /* 静灰 */
  font-family: "Source Han Sans", "Noto Sans SC", "PingFang SC", "Microsoft YaHei", sans-serif;
  letter-spacing:.02em;
}
@media (prefers-color-scheme: dark){
  .hero-sub{ color:#cbd5e1; }
}

/* 强制覆盖主题：三句碑刻体 */
.hero-verse .line {
 font-size: clamp(1.35rem, 1.5vw + 0.9rem, 1.9rem) !important;
  font-weight: 800 !important;
  line-height: 1.33 !important;
  text-rendering: geometricPrecision;
   letter-spacing: .02em;
  line-height: 1.35;
  color: #0f172a;            /* 深靛 */
  margin: 0 0 1.8rem 0;
  text-shadow: 0 1px 0 rgba(255,255,255,.4);
}

/* 首页标题变小、淡、退居檐下 */
body.home main header h1,
body.home .page header h1 {
  font-size: 1rem !important;
  font-weight: 500 !important;
  opacity: 0.55 !important;
  margin-bottom: 1rem !important;
  letter-spacing: .08em;
}